<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Cuenta - MediTech</title>
    <link rel="stylesheet" href="/css/LoginRegister.css">
    <link rel="stylesheet" href="/css/doctores.css">
</head>
<body>
    <div class="login-container">
        <h2>Crear Nueva Cuenta</h2>
        <% if (error !=null) { %>
            <p style="color: red;"><%= error %></p>
        <% } %>
        <form action="/register" method="POST"> 

            <div class="form-group">
                <label for="usuario">Usuario</label>
                <input type="text" id="user" name="user" required placeholder="Usuario">
            </div>

           <div class="form-group">
                <label for="tipoUsuario">Tipo de Usuario</label>
                <select name="tipoUsuario" id="tipoUsuario" required>
                    <option value="">Seleccione un tipo de usuario</option>
                    <% if (typeof tiposUsuario !== 'undefined' && tiposUsuario.length > 0) { %>
                        <% tiposUsuario.forEach(function(tipo) { %>
                            <option value="<%= tipo.Id %>"><%= tipo.Descripcion %></option>
                        <% }); %>
                    <% } %>
                </select>
            </div>

            <div class="form-group" id="especialidad-group" style="display: none;">
                <label for="especialidad">Especialidad</label>
                <select name="especialidad" id="especialidad">
                    <option value="">Seleccione una especialidad</option>
                    <% if (typeof especialidades !== 'undefined' && especialidades.length > 0) { %>
                        <% especialidades.forEach(function(especialidad) { %>
                            <option value="<%= especialidad.Id %>"><%= especialidad.Descripcion %></option>
                        <% }); %>
                    <% } %>
                </select>

            </div>

            <script>
    document.addEventListener('DOMContentLoaded', function() {
        const tipoUsuario = document.getElementById('tipoUsuario');
        const especialidadGroup = document.getElementById('especialidad-group');
        // Cambia '2' por el valor real de Doctor en tu base de datos
        tipoUsuario.addEventListener('change', function() {
            if (tipoUsuario.value === '2') {
                especialidadGroup.style.display = 'block';
            } else {
                especialidadGroup.style.display = 'none';
            }
        });
    });
</script>

            
            <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input type="email" id="email" name="email" required placeholder="tu.correo@ejemplo.com">
            </div>

            <div class="form-group">
                <label for="pass">Contraseña</label>
                <input type="password" id="pass" name="pass" required placeholder="Mínimo 8 caracteres">
                </div>

            <div class="form-group">
                <label for="confirm">Confirmar Contraseña</label>
                <input type="password" id="confirm" name="confirm" required placeholder="Repite la contraseña">
            </div>

            <button type="submit" class="register-button">Crear Cuenta</button>
        </form>

        <div class="login-link">
            <p>¿Ya tienes una cuenta? <a href="/login">Inicia Sesión</a></p>
        </div>
    </div>
</body>
</html>