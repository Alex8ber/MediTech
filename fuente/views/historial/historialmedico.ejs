<%- include('../header') %>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historial Medico</title>
    <link rel="stylesheet" href="../css/estilos1.css">

</head>
<body>
    <main>
        
        <div class="titulo">Historial Medico</div>
        <div class="busqueda">
            <div>

                 <label for="buscar_paciente">Buscar paciente por inicial</label>
                <select name="" id="">
                    <option value="">Seleccione la inicial del paciente</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="G">G</option>
                    <option value="H">H</option>
                    <option value="I">I</option>
                    <option value="J">J</option>
                    <option value="K">K</option>
                    <option value="L">L</option>
                    <option value="M">M</option>
                    <option value="N">N</option>
                    <option value="Ñ">Ñ</option>
                    <option value="O">O</option>
                    <option value="P">P</option>
                    <option value="Q">Q</option>
                    <option value="R">R</option>
                    <option value="S">S</option>
                    <option value="T">T</option>
                    <option value="U">U</option>
                    <option value="V">V</option>
                    <option value="W">W</option>
                    <option value="X">X</option>
                    <option value="Y">Y</option>
                    <option value="Z">Z</option>

                </select>
                
                <label for="">Buscar por genero</label>
                <select name="" id="">
                    <option value="">Seleccione el genero</option>
                    <option value="">Maculino</option>
                    <option value="">Femenino</option>
                </select>
                
            </div>
            <div>
                <label for="buscar">Buscar patología</label>
                <select name="" id="">
                    <option value="">Seleccione tipo de patología</option>
                </select>
                
            </div>
        </div>

        <div class="tabla-section">
            <div class="tabla-titulo">Historial medico registrado</div>
            <table>
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Cédula</th>
                    </tr>
                </thead>
                <tbody id="tabla-historialmedico">
                    <% historiales.forEach(historial => { %>
                    <tr>
                        <td><%= historial.Nombres %></td>
                        <td><%= historial.Apellidos %></td>
                        <td><%= historial.Cedula %></td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
            <button class="nuevo-paciente" style="margin-left:20px;" onclick="window.location.href= '/registrarhistorial'">Nuevo Historial Medico</button>
            <button class="editar-paciente" style="margin-left:20px;">Actualizar Historial Medico</button>
        </div>
    </main>
    <script>
        document.getElementById('buscar').addEventListener('input', function() {
            const filtro = this.value.toLowerCase();
            const filas = document.querySelectorAll('#tabla-historialmedico tr');
            filas.forEach(fila => {
                const textoFila = fila.textContent.toLowerCase();
                fila.style.display = textoFila.includes(filtro) ? '' : 'none';
            });
        });
    </script>
</body>
</html>